Neural Network Tools for STM32AI v1.6.0 (STM.ai v7.1.0-RC3)
Created date          : 2022-03-17 11:46:07
Parameters            : generate --name network -m C:/Users/steinmann/Documents/GitHub/AI_PulseReconstruction/colab_output/pulse_reco.tflite --type tflite --compression 1 --verbosity 1 --workspace C:\Users\STEINM~1\AppData\Local\Temp\mxAI_workspace248860021670330018331666079743690724 --output C:\Users\steinmann\.stm32cubemx\network_output

Exec/report summary (generate)
------------------------------------------------------------------------------------------------------------------------
model file            : C:\Users\steinmann\Documents\GitHub\AI_PulseReconstruction\colab_output\pulse_reco.tflite
type                  : tflite
c_name                : network
compression           : None
workspace dir         : C:\Users\STEINM~1\AppData\Local\Temp\mxAI_workspace248860021670330018331666079743690724
output dir            : C:\Users\steinmann\.stm32cubemx\network_output
model_name            : pulse_reco
model_hash            : 03493ae5506d72eb7a9e633c0218bacf
input 1/1             : 'serving_default_waveform_input0'
                        128 items, 512 B, ai_float, float, (1,1,1,128), domain:user/
output 1/1            : 'nl_11'
                        3 items, 12 B, ai_float, float, (1,1,1,3), domain:user/
params #              : 10,163 items (12.70 KiB)
macc                  : 10,548
weights (ro)          : 40,652 B (39.70 KiB) / +27,648(+212.6%) vs original model (1 segment)
activations (rw)      : 256 B (256 B) (1 segment)
ram (total)           : 780 B (780 B) = 256 + 512 + 12

Model name - pulse_reco ['serving_default_waveform_input0'] ['nl_11']
---------------------------------------------------------------------------------------------------------------------------------------------------------------------
id   layer (type)                              oshape        param/size    macc    connected to                      |   c_size             c_macc       c_type     
---------------------------------------------------------------------------------------------------------------------------------------------------------------------
0    serving_default_waveform_input0 (Input)   (1,1,1,128)                                                           |                                  
     dense_0 (Dense)                           (1,1,1,32)    4,128/4,224   4,128   serving_default_waveform_input0   |   +12,288(+290.9%)                dense()[0] 
---------------------------------------------------------------------------------------------------------------------------------------------------------------------
1    dense_1 (Dense)                           (1,1,1,32)    1,024/1,024   1,024   dense_0                           |   +3,072(+300.0%)                 dense()[1] 
---------------------------------------------------------------------------------------------------------------------------------------------------------------------
2    dense_2 (Dense)                           (1,1,1,32)    1,056/1,152   1,056   dense_1                           |   +3,072(+266.7%)                 dense()[2] 
---------------------------------------------------------------------------------------------------------------------------------------------------------------------
3    dense_3 (Dense)                           (1,1,1,32)    1,024/1,024   1,024   dense_2                           |   +3,072(+300.0%)                 dense()[3] 
---------------------------------------------------------------------------------------------------------------------------------------------------------------------
4    dense_4 (Dense)                           (1,1,1,32)    1,056/1,152   1,056   dense_3                           |   +3,072(+266.7%)                 dense()[4] 
---------------------------------------------------------------------------------------------------------------------------------------------------------------------
5    dense_5 (Dense)                           (1,1,1,32)    1,024/1,024   1,024   dense_4                           |   +3,072(+300.0%)                 dense()[5] 
---------------------------------------------------------------------------------------------------------------------------------------------------------------------
6    dense_6 (Dense)                           (1,1,1,16)    528/2,112     528     dense_5                           |                                   dense()[6] 
---------------------------------------------------------------------------------------------------------------------------------------------------------------------
7    nl_7 (Nonlinearity)                       (1,1,1,16)                  192     dense_6                           |                      -16(-8.3%)   nl()[7]    
---------------------------------------------------------------------------------------------------------------------------------------------------------------------
8    dense_8 (Dense)                           (1,1,1,16)    272/1,088     272     nl_7                              |                                   dense()[8] 
---------------------------------------------------------------------------------------------------------------------------------------------------------------------
9    nl_9 (Nonlinearity)                       (1,1,1,16)                  192     dense_8                           |                      -16(-8.3%)   nl()[9]    
---------------------------------------------------------------------------------------------------------------------------------------------------------------------
10   dense_10 (Dense)                          (1,1,1,3)     51/204        51      nl_9                              |                                   dense()[10]
---------------------------------------------------------------------------------------------------------------------------------------------------------------------
11   nl_11 (Nonlinearity)                      (1,1,1,3)                   36      dense_10                          |                      -3(-8.3%)    nl()/o[11] 
---------------------------------------------------------------------------------------------------------------------------------------------------------------------
model/c-model: macc=10,583/10,548 -35(-0.3%) weights=13,004/40,652 +27,648(+212.6%) activations=--/256 io=--/524



Generated C-graph summary
------------------------------------------------------------------------------------------------------------------------
model name            : pulse_reco
c-name                : network
c-node #              : 12
c-array #             : 28
activations size      : 256 (1 segments)
weights size          : 40652 (1 segments)
macc                  : 10548
inputs                : ['serving_default_waveform_input0_output']
outputs               : ['nl_11_output']

C-Arrays (28)
---------------------------------------------------------------------------------------------------------------------
c_id   name (*_array)                           item/size    domain/mem-pool           c-type        fmt     comment
---------------------------------------------------------------------------------------------------------------------
0      serving_default_waveform_input0_output   128/512      user/                     float         float   /input 
1      dense_0_output                           32/128       activations/**default**   float         float          
2      dense_1_output                           32/128       activations/**default**   float         float          
3      dense_2_output                           32/128       activations/**default**   float         float          
4      dense_3_output                           32/128       activations/**default**   float         float          
5      dense_4_output                           32/128       activations/**default**   float         float          
6      dense_5_output                           32/128       activations/**default**   float         float          
7      dense_6_output                           16/64        activations/**default**   float         float          
8      nl_7_output                              16/64        activations/**default**   float         float          
9      dense_8_output                           16/64        activations/**default**   float         float          
10     nl_9_output                              16/64        activations/**default**   float         float          
11     dense_10_output                          3/12         activations/**default**   float         float          
12     nl_11_output                             3/12         user/                     float         float   /output
13     dense_0_weights                          4096/16384   weights/                  const float   float          
14     dense_0_bias                             32/128       weights/                  const float   float          
15     dense_1_weights                          1024/4096    weights/                  const float   float          
16     dense_2_weights                          1024/4096    weights/                  const float   float          
17     dense_2_bias                             32/128       weights/                  const float   float          
18     dense_3_weights                          1024/4096    weights/                  const float   float          
19     dense_4_weights                          1024/4096    weights/                  const float   float          
20     dense_4_bias                             32/128       weights/                  const float   float          
21     dense_5_weights                          1024/4096    weights/                  const float   float          
22     dense_6_weights                          512/2048     weights/                  const float   float          
23     dense_6_bias                             16/64        weights/                  const float   float          
24     dense_8_weights                          256/1024     weights/                  const float   float          
25     dense_8_bias                             16/64        weights/                  const float   float          
26     dense_10_weights                         48/192       weights/                  const float   float          
27     dense_10_bias                            3/12         weights/                  const float   float          
---------------------------------------------------------------------------------------------------------------------

C-Layers (12)
-----------------------------------------------------------------------------------------------------------------------
c_id   name (*_layer)   id   layer_type   macc   rom     tensors                                     shape (array id) 
-----------------------------------------------------------------------------------------------------------------------
0      dense_0          0    dense        4128   16512   I: serving_default_waveform_input0_output   (1,1,1,128) (0)  
                                                         W: dense_0_weights                          (128,1,1,32) (13)
                                                         W: dense_0_bias                             (1,1,1,32) (14)  
                                                         O: dense_0_output                           (1,1,1,32) (1)   
-----------------------------------------------------------------------------------------------------------------------
1      dense_1          1    dense        1024   4096    I: dense_0_output                           (1,1,1,32) (1)   
                                                         W: dense_1_weights                          (32,1,1,32) (15) 
                                                         O: dense_1_output                           (1,1,1,32) (2)   
-----------------------------------------------------------------------------------------------------------------------
2      dense_2          2    dense        1056   4224    I: dense_1_output                           (1,1,1,32) (2)   
                                                         W: dense_2_weights                          (32,1,1,32) (16) 
                                                         W: dense_2_bias                             (1,1,1,32) (17)  
                                                         O: dense_2_output                           (1,1,1,32) (3)   
-----------------------------------------------------------------------------------------------------------------------
3      dense_3          3    dense        1024   4096    I: dense_2_output                           (1,1,1,32) (3)   
                                                         W: dense_3_weights                          (32,1,1,32) (18) 
                                                         O: dense_3_output                           (1,1,1,32) (4)   
-----------------------------------------------------------------------------------------------------------------------
4      dense_4          4    dense        1056   4224    I: dense_3_output                           (1,1,1,32) (4)   
                                                         W: dense_4_weights                          (32,1,1,32) (19) 
                                                         W: dense_4_bias                             (1,1,1,32) (20)  
                                                         O: dense_4_output                           (1,1,1,32) (5)   
-----------------------------------------------------------------------------------------------------------------------
5      dense_5          5    dense        1024   4096    I: dense_4_output                           (1,1,1,32) (5)   
                                                         W: dense_5_weights                          (32,1,1,32) (21) 
                                                         O: dense_5_output                           (1,1,1,32) (6)   
-----------------------------------------------------------------------------------------------------------------------
6      dense_6          6    dense        528    2112    I: dense_5_output                           (1,1,1,32) (6)   
                                                         W: dense_6_weights                          (32,1,1,16) (22) 
                                                         W: dense_6_bias                             (1,1,1,16) (23)  
                                                         O: dense_6_output                           (1,1,1,16) (7)   
-----------------------------------------------------------------------------------------------------------------------
7      nl_7             7    nl           176    0       I: dense_6_output                           (1,1,1,16) (7)   
                                                         O: nl_7_output                              (1,1,1,16) (8)   
-----------------------------------------------------------------------------------------------------------------------
8      dense_8          8    dense        272    1088    I: nl_7_output                              (1,1,1,16) (8)   
                                                         W: dense_8_weights                          (16,1,1,16) (24) 
                                                         W: dense_8_bias                             (1,1,1,16) (25)  
                                                         O: dense_8_output                           (1,1,1,16) (9)   
-----------------------------------------------------------------------------------------------------------------------
9      nl_9             9    nl           176    0       I: dense_8_output                           (1,1,1,16) (9)   
                                                         O: nl_9_output                              (1,1,1,16) (10)  
-----------------------------------------------------------------------------------------------------------------------
10     dense_10         10   dense        51     204     I: nl_9_output                              (1,1,1,16) (10)  
                                                         W: dense_10_weights                         (16,1,1,3) (26)  
                                                         W: dense_10_bias                            (1,1,1,3) (27)   
                                                         O: dense_10_output                          (1,1,1,3) (11)   
-----------------------------------------------------------------------------------------------------------------------
11     nl_11            11   nl           33     0       I: dense_10_output                          (1,1,1,3) (11)   
                                                         O: nl_11_output                             (1,1,1,3) (12)   
-----------------------------------------------------------------------------------------------------------------------



Complexity report per layer - macc=10,548 weights=40,652 act=256 ram_io=524
-------------------------------------------------------------------------
id   name       c_macc                    c_rom                     c_id
-------------------------------------------------------------------------
0    dense_0    ||||||||||||||||  39.1%   ||||||||||||||||  40.6%   [0] 
1    dense_1    ||||               9.7%   ||||              10.1%   [1] 
2    dense_2    ||||              10.0%   ||||              10.4%   [2] 
3    dense_3    ||||               9.7%   ||||              10.1%   [3] 
4    dense_4    ||||              10.0%   ||||              10.4%   [4] 
5    dense_5    ||||               9.7%   ||||              10.1%   [5] 
6    dense_6    ||                 5.0%   ||                 5.2%   [6] 
7    nl_7       |                  1.7%   |                  0.0%   [7] 
8    dense_8    |                  2.6%   |                  2.7%   [8] 
9    nl_9       |                  1.7%   |                  0.0%   [9] 
10   dense_10   |                  0.5%   |                  0.5%   [10]
11   nl_11      |                  0.3%   |                  0.0%   [11]

Generated files (5)
-------------------------------------------------------------------------
C:\Users\steinmann\.stm32cubemx\network_output\network_config.h
C:\Users\steinmann\.stm32cubemx\network_output\network.h
C:\Users\steinmann\.stm32cubemx\network_output\network.c
C:\Users\steinmann\.stm32cubemx\network_output\network_data.h
C:\Users\steinmann\.stm32cubemx\network_output\network_data.c
